<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title> Register </ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Register</ion-title>
    </ion-toolbar>
  </ion-header>
  <div class="register-wrapper ion-padding">
    <form [formGroup]="registerForm" (ngSubmit)="register()">
      <ion-item class="item-no-padding">
        <ion-label position="floating">
          Full name
          <ion-text color="danger">*</ion-text>
        </ion-label>
        <ion-input required formControlName="fullname" type="text"></ion-input>
        <ng-container *ngFor="let validation of validationHelper.validationMessages.fullname">
          <ng-container
            *ngIf="registerForm.get('fullname')?.hasError(validation.type) && (registerForm.get('fullname')?.dirty || registerForm.get('fullname')?.touched)">
            <ion-note slot="error"> {{ validation.message }} </ion-note>
          </ng-container>
        </ng-container>
      </ion-item>
      <ion-item class="item-no-padding">
        <ion-label position="floating">
          Email
          <ion-text color="danger">*</ion-text>
        </ion-label>
        <ion-input required formControlName="email" type="text"></ion-input>
        <ng-container *ngFor="let validation of validationHelper.validationMessages.email">
          <ng-container
            *ngIf="registerForm.get('email')?.hasError(validation.type) && (registerForm.get('email')?.dirty || registerForm.get('email')?.touched)">
            <ion-note slot="error"> {{ validation.message }} </ion-note>
          </ng-container>
        </ng-container>
      </ion-item>
      <ion-item class="item-no-padding">
        <ion-label position="floating">
          Password
          <ion-text color="danger">*</ion-text>
        </ion-label>
        <ion-input required formControlName="password" type="password"></ion-input>
        <ng-container *ngFor="let validation of validationHelper.validationMessages.password">
          <ng-container
            *ngIf="registerForm.get('password')?.hasError(validation.type) && (registerForm.get('password')?.dirty || registerForm.get('password')?.touched)">
            <ion-note slot="error"> {{ validation.message }} </ion-note>
          </ng-container>
        </ng-container>
      </ion-item>
      <ion-item class="item-no-padding">
        <ion-label position="floating">
          Confirm Password
          <ion-text color="danger">*</ion-text>
        </ion-label>
        <ion-input required formControlName="confirmpassword" type="password"></ion-input>
        <ng-container *ngFor="let validation of validationHelper.validationMessages.confirmpassword">
          <ng-container
            *ngIf="registerForm.get('confirmpassword')?.hasError(validation.type) && (registerForm.get('confirmpassword')?.dirty || registerForm.get('confirmpassword')?.touched)">
            <ion-note slot="error"> {{ validation.message }} </ion-note>
          </ng-container>
        </ng-container>
      </ion-item>
      <div class="ion-padding">
        <ion-button size="block" color="primary" type="submit" class="ion-margin-top" [disabled]="registerForm.invalid">
          Create Account
        </ion-button>
      </div>
    </form>
  </div>
</ion-content>